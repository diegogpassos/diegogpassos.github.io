\documentclass[serif,mathserif]{beamer}
\usepackage[latin1]{inputenc}
\usepackage{amsmath, amsfonts, epsfig, xspace}
\usepackage{pstricks,pst-node}
\usepackage{multimedia}
\usepackage[normal,tight,center]{subfigure}
\setlength{\subfigcapskip}{-.5em}
\usepackage{beamerthemesplit}
\usepackage{tikz}
\usetheme{meutema}

\author[Diego Passos]{Sachin Katti, Hariharan Rahul, Wenjun Hu, Dina Katabi, Muriel Médard e Jon Crowcroft}

\title[Disciplina de Redes]{XORs in the Air: Practical Wireless Network Coding}

\date{7 de Outubro\\2009}

\institute{\\[0.5cm]Apresentação do Artigo}

\begin{document}

\AtBeginSection[]
{
	\begin{frame}<beamer>
		\begin{center}
			{\Huge \insertsection}
		\end{center}
	\end{frame}
}

\maketitle

\section{Introdução}

\begin{frame}
	\frametitle{Conteúdo do Artigo}

	\begin{block}{COPE}
		\begin{itemize}
			\item Uma ``arquitetura'' para redes em malha sem fio.
			\item Além de encaminhados, os pacotes são combinados.
			\item \emph{Network Coding}.
		\end{itemize}
	\end{block}
	\begin{block}{Avaliação de Desempenho}
		\begin{itemize}
			\item Feita em uma rede real de 20 nós.
			\item Mostra melhoras consideráveis.
			\begin{itemize}
				\item De 3 a 4 vezes melhor para UDP.
				\item De 5\% a 70\% para TCP.
			\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Redes em Malha Sem Fio (\textit{Mesh})}

	\begin{center}
		\pgfdeclareimage[height=3.7cm]{mesh}{imagens/meshCinza}
		\pgfuseimage{mesh}
	\end{center}

	\begin{block}{Características}
		\begin{itemize}
			\item Comunicação em múltiplos saltos.
			\item Variação da qualidade dos enlaces no tempo.
			\item Auto-configuração e tolerância a falhas.
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{\textit{Network Coding}}
	
	\begin{block}{Definição}
		\begin{itemize}
			\item É o ato de nós intermediários combinarem informações de vários canais de entrada em uma única unidade de informação para um canal de saída.
			\item Objetiva-se aumentar robustez ou capacidade da rede.
			\item Cada nó da rede pode ser visto como uma matriz de transformação (linear ou não) dos diversos pacotes sendo gerados na rede.
			\item Para decodificar um pacote, o nó de destino deve aplicar a matriz de transformação inversa.
		\end{itemize}
	\end{block}

\end{frame}

\begin{frame}
	\frametitle{\textit{Network Coding} (Exemplo)}

	\begin{center}
		\pgfdeclareimage[height=3.7cm]{CodingExemplo}{imagens/CodingExemplo}
		\pgfuseimage{CodingExemplo}
	\end{center}

	\begin{itemize}
		\item Suponha uma transmissão de dois bits de $1$ para $6$ e $7$.
		\item Solução com \textit{Network Coding}:
		\begin{itemize}
			\item Transmitir $b_1$ por $1\rightarrow 2$, $2\rightarrow 4$ e $2\rightarrow 6$.
			\item Transmitir $b_2$ por $1\rightarrow 3$, $3\rightarrow 4$ e $3\rightarrow 7$.
			\item Transmitir $b_1 \oplus b_2$ por $4\rightarrow 5$, $5\rightarrow 6$ e $5\rightarrow 7$ 
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{\textit{Network Coding} (Características)}

	\begin{itemize}
		\item Permite atingir o limite teórico de fluxo máximo (teorema do Fluxo Máximo - Corte Mínimo).
		\item Permite a redução do número total de transmissões
		\begin{itemize}
			\item Ótimo em redes sem fio de múltiplos saltos.
		\end{itemize}
		\item Implementação prática não é trivial.
		\begin{itemize}
			\item Na prática, as topologias não são tão ``controladas''.
			\item Em redes sem fio, as topologias podem mudar dinamicamente.
			\item Como escolher um esquema de codificação eficiente neste caso?
		\end{itemize}
	\end{itemize}
\end{frame}

\section{COPE}

\begin{frame}
	\frametitle{Características}

	\begin{itemize}
		\item Esquema genérico de codificação.
		\item Pode ser aplicado a qualquer topologia.
		\item Se adapta automaticamente a mudanças.
		\item Não faz suposições sobre a característica dos fluxos.
		\item Provê codificação inter-fluxos.
		\item A codificação/decodificação é feita salto a salto.
		\begin{itemize}
			\item Foge um pouco ao conceito original de codificação de rede.
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Implementação}

	\begin{itemize}
		\item Uma nova camada é adicionada entre o roteamento e o enlace.
		\item Tenta detectar oportunidades de codificação.
		\begin{itemize}
			\item Caso existam, os pacotes são combinados via XOR.
			\item Caso contrário, eles são enviados normalmente.
		\end{itemize}
		\item Divide-se em 3 funcionalidades:
		\begin{itemize}
			\item Codificação oportunista.
			\item Escuta oportunista.
			\item Aprendizado do estado dos vizinhos.
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Codificação Oportunista}

	\begin{block}{Objetivos}
		\begin{itemize}
			\item Maximizar o número de pacotes entregues em cada transmissão.
			\item Garantir que os receptores sejam capazes de decodificar o pacote.
		\end{itemize}
	\end{block}

	\begin{center}
		\pgfdeclareimage[height=3.0cm]{OpCodingExemplo}{imagens/OportunisticCodingEx.PNG}
		\pgfuseimage{OpCodingExemplo}
	\end{center}

\end{frame}

\begin{frame}
	\frametitle{Escuta Oportunista}

	\begin{block}{Premissas}
		\begin{itemize}
			\item O meio sem fio tem natureza compartilhada (difusão).
			\item Nós, em geral, são equipados com antenas omni-direcionais.
		\end{itemize}
	\end{block}

	\begin{block}{Como tirar proveito?}
		\begin{itemize}
			\item Nós são colocados em \emph{modo promiscuo}.
			\item Todos os quadros transmitidos por vizinhos são recebidos (idealmente).
			\item Todos os quadros são armazenados por um pequeno período de tempo ($0,5$s).
			\begin{itemize}
				\item Eles podem ser úteis para codificações posteriores.
			\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Aprendizado do Estado dos Vizinhos}

	\begin{block}{Objetivo}
		\begin{itemize}
			\item Descobrir quais pacotes cada vizinho tem.
		\end{itemize}
	\end{block}

	\begin{block}{Solução}
		\begin{itemize}
			\item Envio de anúncios periódicos por cada nó.
			\item Utilização de informação da camada de roteamento.
			\begin{itemize}
				\item O protocolo de roteamento calcula a probabilidade de recepção de cada nó.
			\end{itemize}
			\item Utiliza esta informação para estimar se um vizinho tem ou não um dado pacote.
			\item Por ser probabilística, a estratégia pode falhar.
		\end{itemize}
	\end{block}

\end{frame}

\section[Ganhos]{Ganhos Teóricos}

\begin{frame}
	\frametitle{Tipos de Ganho}

	\begin{block}{Ganho de Codificação}
		\begin{itemize}
			\item Razão entre o número de transmissões necessárias sem o COPE pelo número com o COPE.
			\item Sempre maior ou igual a $1$.
			\item Sem a escuta oportunista, o limite teórico é $2$.
		\end{itemize}
	\end{block}

	\begin{block}{Ganho de Codificação + MAC}
		\begin{itemize}
			\item Razão da taxa na qual pacotes saem da fila do nó de gargalo com e sem o COPE.
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Exemplo: Topologia em Linha}

	\begin{center}
		\pgfdeclareimage[width=.75\textwidth]{topoLinha}{imagens/ChainTopology.PNG}
		\pgfuseimage{topoLinha}
	\end{center}

	\begin{itemize}
		\item Ganho de Codificação: $2$.
		\item Ganho de Codificação + MAC: 2.
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Exemplo: Topologia em X}

	\begin{center}
		\pgfdeclareimage[height=.3\textheight]{topoX}{imagens/Xtopology.PNG}
		\pgfuseimage{topoX}
	\end{center}

	\begin{itemize}
		\item Ganho de Codificação: $1,33$.
		\item Ganho de Codificação + MAC: 2.
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Exemplo: Topologia em Cruz}

	\begin{center}
		\pgfdeclareimage[height=.4\textheight]{topoCruz}{imagens/crossTopology.PNG}
		\pgfuseimage{topoCruz}
	\end{center}

	\begin{itemize}
		\item Ganho de Codificação: $1,6$.
		\item Ganho de Codificação + MAC: 4.
	\end{itemize}
\end{frame}



\begin{frame}
	\frametitle{Exemplo: Topologia em Roda}

	\begin{center}
		\pgfdeclareimage[height=.5\textheight]{topoRoda}{imagens/wheel.PNG}
		\pgfuseimage{topoRoda}
	\end{center}

	\begin{itemize}
		\item Ganho de Codificação: $2$.
		\item Ganho de Codificação + MAC: $\infty$ (não limitado).
	\end{itemize}
\end{frame}


\section[Detalhes]{Detalhes de Implementação}

\begin{frame}
	\frametitle{Algoritmo de Codificação}

	\begin{block}{Características}
		\begin{itemize}
			\item Pacotes não são atrasados.
			\begin{itemize}
				\item Se não há oportunidade de codificação, os pacotes são enviados normalmente.
			\end{itemize}
			\item Dá preferencia à codificação de pacotes de tamanho semelhante.
			\begin{itemize}
				\item No entanto, isso não é regra.
			\end{itemize}
			\item São criadas duas classes: pacotes grandes e pequenos (menos de 100 bytes).
			\item Nunca serão codificados juntos:
			\begin{itemize}
				\item Pacotes destinados ao mesmo próximo salto.
				\item Pacotes gerados no próprio nó.
			\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Algoritmo de Codificação (Cont.)}

	\begin{block}{Busca por Pacotes}
		\begin{itemize}
			\item São mantidas filas virtuais por vizinho.
			\begin{itemize}
				\item Duas para cada.
			\end{itemize}
			\item O primeiro pacote da fila real é escolhido.
			\item As filas virtuais são percorridas, buscando oportunidades de codificação.
			\begin{itemize}
				\item Primeiro às de tamanho semelhante, depois de tamanho diferente.
			\end{itemize}
		\end{itemize}
	\end{block}

	\begin{block}{Probabilidade de Decodificação}
		\begin{itemize}
			\item Para $n$ pacotes codificados:
			$$P_D = P_1 \times P_2 \times \dots \times P_{n-1}$$
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Algoritmo de Codificação}

	\begin{center}
		\pgfdeclareimage[height=.8\textheight]{alg}{imagens/AlgCodificacao.PNG}
		\pgfuseimage{alg}
	\end{center}

\end{frame}

\begin{frame}
	\frametitle{Pseudo-Broadcast}

	\begin{block}{Motivação}
		\begin{itemize}
			\item Pacotes precisam ser transmitidos para vários vizinhos.
			\item Nós precisam confirmar o recebimento.
		\end{itemize}
	\end{block}

	\begin{block}{Solução Proposta}
		\begin{itemize}
			\item O quadro é enviado para um dos vizinhos em \textit{unicast}.
			\item Os demais nós recebem o pacote de forma promiscua.
			\item A lista completa de receptores é colocada no cabeçalho do quadro.
			\item \textit{Pseudo-broadcast} é mais confiável que \textit{broadcast}.
		\end{itemize}
	\end{block}

\end{frame}

\begin{frame}
	\frametitle{\textit{Hop-By-Hop Acks}}

	\begin{block}{Motivação}
		\begin{itemize}
			\item Pacotes codificados podem não ser recebidos por todos os nós.
			\item Mesmo quando recebidos, os nós podem não ser capazes de decodificá-los.
		\end{itemize}
	\end{block}

	\begin{block}{Solução Proposta}
		\begin{itemize}
			\item Incorporar Acks nos pacotes periódicos de anúncio de pacotes disponíveis.
			\item O \textit{overhead} de enviar um ack individualmente é muito alto.
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Evitando Reordenação}

	\begin{block}{Motivação}
		\begin{itemize}
			\item Acks assíncronos podem causar reordenação de segmentos TCP.
			\item O TCP pode interpretar segmentos fora de ordem como congestionamento.
			\item Reduz o desempenho.
		\end{itemize}
	\end{block}

	\begin{block}{Solução Proposta}
		\begin{itemize}
			\item Para os pacotes TCP destinados ao nó atual, o COPE verifica a ordem.
			\item Pacotes só são entregues para a camada superior se não houver ``buracos''.
			\begin{itemize}
				\item Ou até um \textit{timer} expirar.
			\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Formato do Pacote}

	\begin{center}
		\pgfdeclareimage[width=.8\textwidth]{pktFormat}{imagens/PktFormat.PNG}
		\pgfuseimage{pktFormat}
	\end{center}

\end{frame}

\section{Avaliação}

\begin{frame}
	\frametitle{Ambiente de Testes}

	\begin{block}{Características}
		\begin{itemize}
			\item $20$ nós em dois andares de um prédio.
			\item Número de saltos varia de $1$ a $6$.
			\item Taxa de perda entre $0\%$ e $30\%$.
			\item 802.11a .
			\item $6$Mb/s.
		\end{itemize}
	\end{block}

	\begin{block}{\textit{Software}}
		\begin{itemize}
			\item Click.
			\item Fila de $100$ pacotes.
			\item Srcr com métrica ETT.
			\item Libpcap.
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{Ambiente de Testes (Cont.)}

	\begin{block}{\textit{Hardware}}
		\begin{itemize}
			\item PCs.
			\item Duas interfaces de rede.
			\begin{itemize}
				\item Só uma é usada.
			\end{itemize}
			\item RTS/CTS desabilitado.
		\end{itemize}
	\end{block}

	\begin{block}{Modelo de Tráfego}
		\begin{itemize}
			\item Fluxos UDP (udpgen).
			\item Fluxos TCP (ttcp).
			\begin{itemize}
				\item Longos ou curtos.
			\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{TCP: Topologias Simples}

	\pgfdeclareimage[width=.5\textwidth]{GainAliceBobTCP}{imagens/GainAliceBobTCP.PNG}
	\pgfuseimage{GainAliceBobTCP}
	{\bf (a) Alice-and-Bob}
	\pgfdeclareimage[width=.5\textwidth]{GainXtopologyTCP}{imagens/GainXtopologyTCP.PNG}
	\pgfuseimage{GainXtopologyTCP}
	{\bf (b) Topologia em X}
	\pgfdeclareimage[width=.5\textwidth]{GainCrosstopologyTCP}{imagens/GainCrosstopologyTCP.PNG}
	\pgfuseimage{GainCrosstopologyTCP}
	{\bf (c) Topologia em cruz}

\end{frame}

\begin{frame}
	\frametitle{UDP: Topologias Simples}

	\pgfdeclareimage[width=.5\textwidth]{GainAliceBobUDP}{imagens/GainAliceBobUDP.PNG}
	\pgfuseimage{GainAliceBobUDP}
	{\bf (a) Alice-and-Bob}
	\pgfdeclareimage[width=.5\textwidth]{GainXtopologyUDP}{imagens/GainXtopologyUDP.PNG}
	\pgfuseimage{GainXtopologyUDP}
	{\bf (b) Topologia em X}
	\pgfdeclareimage[width=.5\textwidth]{GainCrosstopologyUDP}{imagens/GainCrosstopologyUDP.PNG}
	\pgfuseimage{GainCrosstopologyUDP}
	{\bf (c) Topologia em cruz}

\end{frame}

\begin{frame}
	\frametitle{Efeitos das Colisões}
	
	\begin{center}
		\pgfdeclareimage[width=.7\textwidth]{LossFrac}{imagens/LossFrac.png}
		\pgfuseimage{LossFrac}\\[0.5cm]
		\pgfdeclareimage[width=.7\textwidth]{QueueSize}{imagens/QueueSize.png}
		\pgfuseimage{QueueSize}
	\end{center}
	
\end{frame}

\begin{frame}
	\frametitle{TCP sem Terminais Escondidos}

	\begin{center}
		\pgfdeclareimage[width=.95\textwidth]{TCPNoHidden}{imagens/TCPNoHidden.PNG}
		\pgfuseimage{TCPNoHidden}
	\end{center}
\end{frame}

\begin{frame}
	\frametitle{UDP no Cenário em Larga Escala}

	\begin{center}
		\pgfdeclareimage[width=.95\textwidth]{UDPLarge}{imagens/UDPLarge.PNG}
		\pgfuseimage{UDPLarge}
	\end{center}
\end{frame}

\begin{frame}
	\frametitle{Resultados Sobre a Codificação}

	\begin{center}
		\pgfdeclareimage[width=.8\textwidth]{GuessCoding}{imagens/GuessCoding.PNG}
		\pgfuseimage{GuessCoding}\\[0.5cm]
		\pgfdeclareimage[width=.8\textwidth]{CodingDist}{imagens/CodingDist.PNG}
		\pgfuseimage{CodingDist}
	\end{center}

\end{frame}

\begin{frame}
	\frametitle{TCP em Rede de Acesso}

	\begin{center}
		\pgfdeclareimage[width=.95\textwidth]{TCPRedeAcesso}{imagens/TCPRedeAcesso.PNG}
		\pgfuseimage{TCPRedeAcesso}
	\end{center}
\end{frame}

\begin{frame}
	\frametitle{Justiça}

	\begin{center}
		\pgfdeclareimage[width=.7\textwidth]{JusticaVazao}{imagens/JusticaVazao.PNG}
		\pgfuseimage{JusticaVazao}\\[0.5cm]
		\pgfdeclareimage[width=.7\textwidth]{Justica}{imagens/Justica.PNG}
		\pgfuseimage{Justica}
	\end{center}

\end{frame}

\section{Conclusão}

\begin{frame}
	\frametitle{Considerações}

	\begin{block}{Aplicabilidade}
		\begin{itemize}
			\item Dispositivos sem restrições de recursos.
			\item Grande capacidade de memória.
			\item Antenas omni-direcionais.
			\item Sem restrições de energia.
		\end{itemize}
	\end{block}

	\begin{block}{Outros Tipos de Rede}
		\begin{itemize}
			\item Outros protocolos de camada de enlace.
			\begin{itemize}
				\item WiMax.
				\item TDMA.
			\end{itemize}
			\item Redes de sensores.
			\begin{itemize}
				\item Menos transmissões, menor gasto energético.
			\end{itemize}
			\item Celular.
			\begin{itemize}
				\item Menores custos.
			\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

\end{document}


